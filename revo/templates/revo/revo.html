{% extends "app/shell.html" %}
{% load staticfiles%}

{% block head %}
    <script src="{% static 'revo/scripts/revo.js' %}"></script>
    <link href="{% static 'revo/css/revo.css' %}" rel="stylesheet"/>
	
    <script src="{% static 'revo/scripts/jquery.dataTables.min.js' %}"></script>
	<script src="{% static 'revo/scripts/dataTables.responsive.min.js' %}"></script>
	<script src="{% static 'revo/scripts/dataTables.fixedHeader.min.js' %}"></script>
	
	<link rel="stylesheet" href="{% static 'revo/css/jquery.dataTables.min.css' %}"/>
	<link rel="stylesheet" href="{% static 'revo/css/responsive.dataTables.min.css' %}"/>
	<link rel="stylesheet" href="{% static 'revo/css/fixedHeader.dataTables.min.css' %}"/>

    <script src="{% static 'app/scripts/jquery-ui.js' %}"></script>
	<link rel="stylesheet" type="text/css" href="{% static 'app/content/jquery-ui2.css' %}" />
	<script src="{% static 'revo/scripts/jquery.ui.timepicker.js' %}"></script>
	<link rel="stylesheet" href="{% static 'revo/css/jquery.ui.timepicker.css' %}"/>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="{% static 'app/scripts/external/react-with-addons.js' %}"></script>
    <script src="{% static 'app/scripts/external/react-dom.js' %}"></script>
    <script src="{% static 'app/scripts/external/JSXTransformer.js' %}"></script>
    <script src="{% static 'revo/scripts/revo.jsx' %}" type="text/jsx"></script>

{% endblock %}

{% block body %} 
    
        <form action="{% url 'revo_view' %}" method="post">
		<div class="row">
            {% csrf_token %}

			<div class="col-md-12">
				<div class="col-md-5">
					<div class="quote-box" id="stb-table">
					</div>
				</div>

				<div class="col-md-3">
					<div class="quote-box">
						<div class="tabs-left">
						   <p class="quotation-mark">
								TEST SUITE
								<span class="pull-right"><img src="{% static 'app/images/suite.png' %}"></span>
							</p>
							<hr>
							<div class="suite-text scroller main_menu" id="testsuite">
							 <ul class="nav nav-tabs"></ul>
							</div>
						</div><!-- /tabbable -->
					</div>
				</div>
			
				<div class="col-md-3">
					<div class="quote-box">
						<p class="quotation-mark">
							TEST CASE
							<span class="pull-right"><img src="{% static 'app/images/test.png' %}"></span>
						</p>
						<hr>
						<div id="myTabContent" class="bar-content">
							<div id="testcase"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="col-md-4"></div>
				<div class="col-md-4">
					<div class="quote-box runquote" style="text-align:center">
						<input type="checkbox" name="schedule" onclick="showMe('div1')"> enable test scheduling
						<div id="div1" class="hideme">
							<span id="schedule_timestamp">
								<input type="text" id="schedule_date" name="date" class="form-control" placeholder="yy/mm/dd">
								<input type="text" id="schedule_time" name="time" class="form-control" style="margin-top:5px" placeholder="hh:mm">
							</span>
						</div>
					</div>
					<div class="quote-box runquote" style="text-align:center">
						<input type="image" name="submit" img src="{% static 'app/images/run.png' %}" alt="Submit" />
					</div>
				</div>
				<div class="col-md-4"></div>
			</div>
		</div>
	</form>

	<form action="{% url 'StopMultipleJobs' %}" method="post">
        {% csrf_token %}	
		<div class="row">
            <div class="col-md-12 divsub">
				<div class="quote-box scroller-text scroller">
					<table id="example" class="display nowrap" width="100%" cellspacing="0">
						<thead>
							<tr>
							<th style='padding:14px; width:20px; text-align:center'></th>
								
								<th class="job-status_checkbox">						
									&nbsp;<input type="checkbox" onchange="checkAll(this)" name="chk[]" class="parent_chk_job" id="parent_chk_job" />
								</th>
								<th class="job-status_heading"> &nbsp; STB</th>
								<th class="job-status_heading">SUITE NAME</th>
								<th class="job-status_heading">BUILD#</th>
								<th class="job-status_heading">RESULT</th>
								<th class="job-status_heading">JOB START TIME</th>
								<th class="job-status_heading">JOB END TIME</th>
								<th class="job-status_heading">DURATION</th>
								<th class="job-status_heading">TESTER</th>
								<th class="job-status_heading">STOP JOB</th>
								<th class="job-status_heading">
									OUTPUT &nbsp; &nbsp;<i class="fa fa-refresh" aria-hidden="true" style="cursor: pointer" onclick="stbststus1()"></i>
								</th>
							</tr>
						</thead>
						<tbody id="testdataid"/>
					</table>
			    </div>
		    </div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="col-md-4 divsub"></div>
				<div class="col-md-4 text-center"><input type="image" name="submit" img="" src="/static/app/images/Stop.png" alt="Submit"></div>
				<div class="col-md-4 divsub"></div>
			</div>
		</div>
    </form>
	<script>
        var config = {};
        config.stbStatusUrl = "{% url 'Set_Top_Box' %}";
        window.config = config;

        //Use this object to fill the state of different widgets. In the end WHEN WE CLICK RUN("/revo/run/â€œ) we have to send this json as parameter.
        // {
        //   "scheduled": true,
        //   "time": "2016-12-29 17:10:50",
        //   "stbs": [
        //     "STB 1",
        //     "stb 2",
        //     "stb 3"
        //   ],
        //   "suites": [
        //     {
        //       "name": "Suite Amber",
        //       "cases": [
        //         "VOD_EVO_025.py",
        //         "VOD_EVO_033.py",
        //         "VOD_EVO_038.py"
        //       ]
        //     },
        //     {
        //       "name": "Suite Jade",
        //       "cases": [
        //         "VOD_EVO_025.py",
        //         "VOD_EVO_033.py",
        //         "VOD_EVO_038.py"
        //       ]
        //     }
        //   ]
        // }
        var runRevoJson = {};
        runRevoJson["stbs"] = [];
        window.runRevoJson =  runRevoJson;

	</script>
	{% include "revo/console_modal.html" %}
{% endblock %}